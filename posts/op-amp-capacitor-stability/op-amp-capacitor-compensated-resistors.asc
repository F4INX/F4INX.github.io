Version 4
SHEET 1 2408 680
WIRE 704 -144 704 -176
WIRE 672 -128 640 -128
WIRE 800 -112 736 -112
WIRE 864 -112 800 -112
WIRE 976 -112 944 -112
WIRE 1120 -112 976 -112
WIRE 672 -96 640 -96
WIRE 800 -80 800 -112
WIRE 976 -80 976 -112
WIRE 704 -48 704 -80
WIRE 976 16 976 -16
WIRE -16 32 -16 0
WIRE 528 80 112 80
WIRE 640 80 640 -96
WIRE 640 80 608 80
WIRE 800 80 800 0
WIRE 800 80 640 80
WIRE 832 80 800 80
WIRE 1120 80 1120 -112
WIRE 1120 80 912 80
WIRE 112 112 112 80
WIRE -16 144 -16 112
WIRE 16 144 -16 144
WIRE -16 160 -16 144
WIRE 112 224 112 192
WIRE -16 272 -16 240
FLAG 112 224 0
FLAG 704 -176 V-
FLAG 704 -48 V+
FLAG 16 144 0
FLAG -16 0 V+
FLAG -16 272 V-
FLAG 976 16 0
FLAG 640 -128 0
SYMBOL Misc\\signal 112 96 R0
WINDOW 123 24 132 Left 2
WINDOW 39 0 0 Left 0
SYMATTR Value2 AC 1 0
SYMATTR InstName V1
SYMATTR Value PULSE(0 1 10u 1e-12 1e-12 90u)
SYMBOL OpAmps\\UniversalOpAmp 704 -112 M180
SYMATTR InstName U1
SYMATTR Value2 Avol=1e12 GBW=1e12 Vos=0
SYMATTR SpiceLine En=0 Enk=0 In=0 Ink=0 Rin=1e12
SYMBOL voltage -16 16 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 5
SYMBOL voltage -16 144 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 5
SYMBOL res 960 -128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Riso
SYMATTR Value {Riso}
SYMBOL cap 960 -80 R0
SYMATTR InstName CL
SYMATTR Value {CL}
SYMBOL res 784 -96 R0
SYMATTR InstName Rb
SYMATTR Value {Rb}
SYMBOL res 928 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rc
SYMATTR Value {Rc}
SYMBOL res 624 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Ra
SYMATTR Value {Ra}
TEXT 72 256 Left 2 !; .tran 100u
TEXT 1176 -112 Left 2 !.param CL=100e-9
TEXT 1176 -80 Left 2 !.param Riso 100
TEXT 1176 -16 Left 2 !.param tau2=1e-6
TEXT 1176 80 Left 2 !.param Rc={Ra/((1-tau2/(Riso*CL))*G)}
TEXT 1176 48 Left 2 !.param Rb={Ra/(G*tau2/(Riso*CL))}
TEXT 1176 112 Left 2 !.param tau=Riso*CL
TEXT 1176 144 Left 2 !Vtau tau 0 {tau} AC {tau} 0
TEXT 1176 176 Left 2 !.meas tau FIND V(tau) AT 0
TEXT 72 288 Left 2 !.ac dec 10 1 10Meg
TEXT 1176 16 Left 2 !.param Ra=10k
TEXT 1176 -48 Left 2 !.param G=1
